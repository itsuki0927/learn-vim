# learn-vim

学习Vim编辑

## 插入模式

### 插入模式及时更正错误

- `<C-h>` 删除前一个字符(同退格键)
- `<C-w>` 删除前一个单词
- `<C-u>` 删至行首

### 返回普通模式

- `<Esc>` 切换到普通模式
- `<C-[>` 切换到普通模式
- `<C-o>` 切换到插入-普通模式

#### 插入-普通模式

执行一个普通模式命令,执行完后,立马进入插入模式

### 不离开插入模式, 粘贴寄存器的文本

- `<C-r>{register}`

### 随时随地做运算

- `<C-r>={expr}<CR>`

### 用替换模式替换已有文本

- `R`
- `r{char}`

## 可视模式

可视模式允许我们选中一个文本区域并在其上操作

- `<C-g>` 选择-可视切换

### 选择高亮选区

#### 激活可视模式

- `v` 激活面向字符的可视模式
- `V` 激活面向行的可视模式
- `<C-v>` 激活面向列块的可视模式
- `gv` 重选上次的高亮选区

#### 可视模式切换

- `<Esc>`/`<C-[>` 回到普通模式
- `o` 切换高亮选区活动端

## 命令行模式

### Ex命令

|   命令   |    用途  |
| ---- | ---- |
|   :[range]delete [x]   |    删除指定范围内的行[到寄存器x中]  |
|   :[range]yank [x]   |    复制指定范围内的行[到寄存器x中]  |
|   :[line]put [x]   |    在指定行后粘贴寄存器x中的内容|
|   :[range]copy {address}   |    在指定范围内的行拷贝到{address}所指定的行之下|
|   :[range]move {address}   |    在指定范围内的行移动到{address}所指定的行之下|
|   :[range]join   |    连接指定范围内的行|
|   :[range]normal {commands}   |    对指定范围内的每一行执行普通模式命令 {commands}|
|   :[range]substitute/{pattern}/{string}/[flags]   |把指定范围内出现{pattern}的地方替换为{string}|
|   :[range]global/{pattern}/[cmd]   |对指定范围内匹配{pattern}的所有行,在其上执行Ex命令{cmd}|

### 在一行或多个连续行上执行命令

- `:print/:p` 回显指定行的内容
- `.` 代表当前行的地址
- `%` 代表当前文件中的所有行

### Ex 命令的地址及范围的符号

| 符号 | 地址 |
| ---- | ---- |
| 1  | 文件的第一行|
| $  | 文件的最后一行|
| 0  | 虚拟行,位于文件第一行上方|
| .  | 光标所在行|
| 'm | 包含位置标记m的行|
| '< | 高亮选区的起始行|
| '> | 高亮选区的结束行 |
| % | 整个文件(:1,$的简写) |

### 使用':t'和':m'命令复制和移动行

- `:[range]copy {address}` :copy简写为:co、:t

| 命令 | 用途 |
| ---- | ---- |
| :6t. | 把第6行复制到当前行下方 |
| :t6 | 把当前行复制到第6行下方 |
| :t. | 为当前行创建一个副本(类似于普通模式下的yyp)|
| :t$ | 把当前行复制到文本结尾 |
| :'<',>t) | 把高亮选区的行复制到开头|

